---
title: ç­–ç•¥æ¨¡å¼
date: 2023-07-30
tags: è®¾è®¡æ¨¡å¼
---

ç­–ç•¥æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œ å®ƒèƒ½è®©ä½ å®šä¹‰ä¸€ç»„ç®—æ³•å’Œç­–ç•¥ï¼Œ å¹¶å°†æ¯ç§ç®—æ³•åˆ†åˆ«æ”¾å…¥ç‹¬ç«‹çš„ç±»ä¸­ï¼Œ æ ¹æ®ä¸åŒåœºæ™¯ä½¿ç”¨ä¸åŒç®—æ³•å’Œç­–ç•¥ã€‚

# éœ€æ±‚çš„åœºæ™¯
å‡è®¾ä»¥éœ€è¦ä¸€ä¸ªæœåŠ¡æˆ–æ¨¡å—æ¥å®ç°æ¶ˆæ¯é€šçŸ¥åŠŸèƒ½ï¼Œä¸€å¼€å§‹åªéœ€è¦é‚®ä»¶é€šçŸ¥ï¼Œä½ å®ç°å‘é€é‚®ä»¶é€šçŸ¥åŠŸèƒ½ğŸ˜€ã€‚ã€‚ã€‚ã€‚

ç„¶åå‡ å¤©åéœ€æ±‚æ–¹æå‡ºèƒ½ä¸èƒ½å¢åŠ çŸ­ä¿¡é€šçŸ¥ï¼Œä½ åŠ ç­åŠ ç‚¹å®ç°çŸ­ä¿¡é€šçŸ¥åŠŸèƒ½ ğŸ˜µã€‚ã€‚ã€‚

ä¸€æ®µæ—¶é—´ä¹‹åéœ€æ±‚æ–¹è¿˜æƒ³æä¾›ç«™å†…ä¿¡é€šçŸ¥åŠŸèƒ½ ğŸ«¤ ã€‚ã€‚ã€‚

ä¸ä¹…ä¹‹åéœ€æ±‚æ–¹é—®ä½ èƒ½ä¸èƒ½æä¾›ç±»ä¼¼webstockå³æ—¶æ¶ˆæ¯é€šçŸ¥ ğŸ˜‚  ã€‚ã€‚ã€‚

å¦‚æœä¸€å¼€å§‹ä»£ç éƒ½å†™åœ¨ä¸€èµ·ï¼Œæ¯ç§æ¶ˆæ¯é€šçŸ¥æ–¹å¼ä¸åŒæ•´ä½“æ•°æ®ç»“æ„ä¹Ÿå¤§ç›¸å¾„åº­ï¼Œé‚£ä¹ˆåæœŸç»´æŠ¤å¯æƒ³è€ŒçŸ¥ ğŸ’” ã€‚ã€‚ã€‚

# å¦‚ä½•è§£å†³
å°†æ¯ç§é€šçŸ¥æ–¹å¼è®¾ä¸ºä¸€ç§é€šçŸ¥ç­–ç•¥ï¼Œå› æ­¤åœ¨æ•´ä½“æ¨¡å—æˆ–æœåŠ¡è®¾è®¡æ—¶å€™ï¼Œåº”è¯¥åšå¥½å¦‚ä¸‹å‡ ç‚¹ï¼š
1. å®šä¹‰å¥½ç­–ç•¥ç»Ÿä¸€å…¥å£
2. å®šä¹‰å¥½ç­–ç•¥è°ƒåº¦è§„åˆ™
3. çº¦å®šå¥½ç­–ç•¥ç®—æ³•æ¥å£

# å®ç°
è¿™è¾¹ä½¿ç”¨PHPè¯­è¨€å®ç°ï¼Œå…¶ä»–å…·æœ‰oopç¼–ç¨‹è¯­è¨€é€»è¾‘ç±»ä¼¼

1. ğŸ‘†å®šä¹‰ç­–ç•¥ç®—æ³•æ¥å£

```php
interface StrategyInterface
{
    public function handle(ContextInterface $content): mixed;
}
```
æ¥å£StrategyInterface handle ä¾èµ–Contextä¸Šä¸‹æ–‡å¯¹è±¡ã€‚Contextåœ¨è¿™ä¸ªéœ€æ±‚ä¸­å¯ä»¥å°è£…ä¸ºéœ€è¦å‘é€æ¶ˆæ¯å¯¹è±¡å®ç°ä¾èµ–ã€‚å¦‚çŸ­ä¿¡ï¼Œé‚®ä»¶:

```php
class Sms implements StrategyInterface
{
    public function handle(ContextInterface $content):mixed
    {
        // code 
    }
}

class Email implements StrategyInterface
{
    public function handle(ContextInterface $content):mixed
    {
        // code 
    }
}
```

2. â˜å®šä¹‰å¥½ç­–ç•¥è°ƒåº¦è§„åˆ™&ç»Ÿä¸€å…¥å£

```php
class DispatchStrategy
{

    public function __contract(public StrategyInterface $strategy, public ContextInterface $content )

    public  function dispatch()
    {
        $this->strategy->handle($this->content);
    }
}
```


3. ğŸ«°è¿è¡Œè°ƒç”¨

```php
  //Context æ ¹æ®ä¸åŒç­–ç•¥å®ç°ä¸åŒçš„æ¶ˆæ¯ä¸Šä¸‹æ–‡ä¾èµ–
(new DispatchStrategy(new Email(), new Context()))->dispatch(); //é‚®ä»¶

(new DispatchStrategy(new Sms(), new Context()))->dispatch(); //çŸ­ä¿¡
```